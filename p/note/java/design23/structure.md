# 结构型模式

1.代理模式

静态代理（被代理的类，与代理类都需要实现一个接口）

jdk动态代理（被代理的类需要实现接口，代理类不需要实现接口）

cglib动态代理（被代理类不需要实现任何接口，可以是一个单独的类,但被代理的类不能为final（还有目标对象方法不能为final或static））

实例：com.liyuan3210.design23.structure.proxy2



2.适配器模式

基本介绍

```
1) 适配器模式(Adapter Pattern)将某个类的接口转换成客户端期望的另一个接口表
示,主的目的是兼容性,让原本因接口不匹配不能一起工作的两个类可以协同
工作。其别名为包装器(Wrapper)
2) 适配器模式属于结构型模式
3) 主要分为三类:类适配器模式、对象适配器模式（在之前类继承改为聚合）、接口适配器模式（适用于不想实现所有方法情况）
```

实例：com.liyuan3210.design23.structure.adapter2

3.桥接模式

手机案例

![](img/bridge.png)

```
传统方案解决手机操作问题分析:
1) 扩展性问题(类爆炸),如果我们再增加手机的样式(旋转式),就需要增加各个品
牌手机的类,同样如果我们增加一个手机品牌,也要在各个手机样式类下增加。
2) 违反了单一职责原则,当我们增加手机样式时,要同时增加所有品牌的手机,这
样增加了代码维护成本.
3) 解决方案-使用桥接模式
```

基本介绍

```
1) 桥接模式(Bridge模式)是指:将实现与抽象放在两个不同的类层次中,使两个层
次可以独立改变。
2) 是一种结构型设计模式
3) Bridge模式基于类的最小设计原则,通过使用封装、聚合及继承等行为让不同
的类承担不同的职责。它的主要特点是把抽象(Abstraction)与行为实现
(Implementation)分离开来,从而可以保持各部分的独立性以及应对他们的功能
扩展
```

实例：com.liyuan3210.design23.structure.bridge2

4.装饰者模式

问题描述：

```
星巴克咖啡订单项目(咖啡馆):
1) 咖啡种类/单品咖啡:Espresso(意大利浓咖啡)、ShortBlack、LongBlack(美式
咖啡)、Decaf(无因咖啡)
2) 调料:Milk、Soy(豆浆)、Chocolate
3) 要求在扩展新的咖啡种类时,具有良好的扩展性、改动方便、维护方便
4) 使用OO的来计算不同种类咖啡的 费用: 客户可以点 单品咖啡 ,也可以单品咖
啡+调料组合。
```

基本介绍：

```
装饰者模式定义
1) 装饰者模式:动态的将新功能附加到对象上。在对象功能扩展方面,它比继承更
有弹性,装饰者模式也体现了开闭原则(ocp)
```

![](img/decorator.png)

实例：com.liyuan3210.design23.structure.decorator2