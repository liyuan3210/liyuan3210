#　4. 同步时序逻辑电路

```
			大纲
			1.时序逻辑电路概述

			2.触发器

			3.同步时序电路分析

			4.同步时序逻辑电路设计

			5.同步时序逻辑电路设计举例(实际中会出现"挂起"现象)
------------------------------------------------------------------------------------------
			一.时序逻辑电路概述_1
描述：
	一个电路在任何时刻的稳定输出不仅与该时刻电路的输入信号有关，而且与该电路过去的输入有关，这种电路称为"时序电路".时序电路由组合逻辑电路，存储器件组成。
	
	·时序电路图:sxdlt.jpg
	·状态：
		1)y1(现态):某一时刻之前的称为"现态"
		2)y(n+1)(次态):某一时刻之后的称为"次态"
		3)Z(输出):电路的"外部输出"
		4)x(输入):电路的"外部输入"

时序电路分类：
	·同步时序电路(有同步时钟)
		1>组合逻辑电路
		2>存储器件

	·异步时序电路(没有同步时钟)
		1>组合逻辑电路
		2>存储器件 或 延时器件

电路类型:
	·Mealy型电路
		电路的输出Z与，输入，现态函数有关，则称该电路为Mealy型电路.
		状态表:Mealy_table.jpg
		状态图:Mealy_photo.jpg

	·Moore型电路
		电路的输出Z仅与现态的函数有关，则称该电路为Moore电路.
		状态表:Moore_table.jpg
		状态图:Moore_photo.jpg
------------------------------------------------------------------------------------------
			二.触发器_2
描述：
	触发器是一种存储元器件，在电路中用来记忆电路过去的输入情况。

	·RS触发器
		1)基本RS触发器
			1>逻辑图：RS_photo.jpg
			2>功能表：RS_table.jpg
			3>次态方程：RS_equation.jpg
		2)钟控RS触发器
			1>逻辑图：RS_cp_photo.jpg
			2>功能表：RS_cp_table.jpg
			3>状态表：RS_cp_statu.jpg
			4>次态方程：RS_cp_equation.jpg

	·D触发器
		1)D触发器
			1>逻辑图：D_cp_photo.jpg
			2>功能表：D_cp_table.jpg
			3>次态方程：D_cp_equation.jpg

		2)D维持阻塞触发器
			1>逻辑图：D(Block)_cp_photo.jpg

	·JK触发器
		1)JK触发器
			1>逻辑图：JK_cp_photo.jpg
			2>描述表：JK_cp_des.jpg
			3>功能表：JK_cp_table.jpg
			4>次态方程：JK_cp_equation.jpg
			
		2)JK主从触发器
			1>逻辑图：JK(Master-slave)_cp_photo.jpg

	·T触发器
		1)T触发器
			1>逻辑图：T_cp_photo.jpg
------------------------------------------------------------------------------------------
			三.同步时序电路分析_3
描述：
	对一个给定的时序逻辑电路，分析其输入信号和输出信号之间的关系，进而说明该电路的逻辑功能和工作特性。实际上是要求出电路的状态表，状态图或时间图，并作出功能评述。通过分析，可以了解电路的特点，有助于改进电路的设计。
	·分析方法：Analysis_photo.jpg
	·分析步骤:
		1)写出输出函数和激励函数表达式.
		2)列出状态转移真值表.
		3)作出状态表和状态图.
		4)用时间图和文字描述电路和逻辑功能.

例子:
	·电路图:1_0.jpg
		1_*.jpg
		
	·电路图:1_0.jpg
		2_*.jpg
------------------------------------------------------------------------------------------
			四.同步时序电路设计_4
描述：
	同步时序逻辑电路设计又称同步时序逻辑电路综合，其基本指导思想是用尽可能少的触发器和门电路来完成设计.

	·设计步骤:
		1)作原始状态图和状态表
		2)对原始状态表化简
		3)状态分配
		4)选定触发器，求出输出函数和激励函数表达式
		5)画出逻辑电路图

作原始状态图和状态表：_4.1
	状态图是同步时序电路设计的依据,它必须正确反映设计需求。状态图的构成没有统一的方法，关键是要充分正确地理解设计需求，明确电路的输入条件和输出要求，输入和输出关系，以及状态的转换关系.

	原始状态图建立的一般过程:
	假定一个初始状态，由此出发，每加入一个输入信号，则记忆其次态，并标记出其相应的输出值。次态可能为现态，已有状态或新的状态，直到没有新的状态为止。每个状态的各种可能的输入都要考虑到.
	
	·序列检测器
		1)Mealy型：1_mealy.jpg
		2)moore型：1_moore.jpg

	·检测8421BCD码
		1)2_8421BCD_1.jpg
		2)2_8421BCD_2.jpg

	·二进位加，减器
		1)3_jjq_1.jpg
		2)3_jjq_2.jpg
		3)3_jjq_3.jpg
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
对原始状态表化简:_4.2
	一般情况下，原始状态图和原始状态表中存在着多余的状态。状态个数越多，电路中所需要的触发器的数目也就越多，制造成本就越高。为降低制造成本，需要去掉多余的状态，即要进行状态化简。

	所谓状态化简，就是要获得一个最小的状态表。这个表不仅能正确地反映设计的全部要求，而且状态数目最少.

	·完全确定状态表的化简_4.2.1
			1)1_Entirely.jpg
			2)2_Entirely.jpg
			3)3_Entirely.jpg
			4)判别方法：4_*.jpg
		
		例子:
			1)观察法化简(简单点的)
				1>4_5.1.jpg
				2>4_5.2.jpg
				3>4_5.3.jpg
			2)隐含表化简(复杂点的)
				1>4_6.1.jpg
				2>4_6.2.jpg
				3>4_6.3.jpg
				3>4_6.4.jpg

	·不完全确定状态表的化简_4.2.2
		状态表中存在不确定的次态或输出，这些不确定的次态或输出将有利于状态简化.
		
		规则：
			1)相容状态:
			设状态S1和S2是不完全确定状态表中的两个状态，如果对于所有的有效输入序列，分别从状态S1和S2出发，所得到的输出响应序列(除不确定的那些位之外)是完全相同的，那么状态S1和S2时相容的，或者说S1和S2是相容对吗，记作(S1,S2).相容状态可以合并.
			例子:4_0.jpg(什么情况形成不完全确定)

			2)相容状态无传递性:4_1.jpg

			3)相容类:彼此相容的状态集合

			4)最大相容类:不被其它相容类包含的相容类

			判别方法：4_2.jpg

		流程例子:
			1)确定相容对(隐含表寻找相容对)
				1>4_7.1.jpg
				2>4_7.2.jpg
				3>4_7.3.jpg

			2)最大相容类(图表法寻找相容类)
				1>4_8.1.jpg
				2>4_8.2.jpg

			3)最小化状态表(又称最小闭覆盖)

			应满足下列三个条件:
				·覆盖性:所选择相容类集合应包含原始状态表中的全部状态.
				·最小性:所选择相容类集合中相容类的个数应最少.
				·闭合性:所选择相容类集合中的任一相容类，在原始状态表中任一输入条件下产生的次态应该属于该集合中的某一个相容类.

				1>4_9.1.jpg
				2>4_9.2.jpg
		例子:
			1)4_10.1.jpg
			2)4_10.2.jpg
			3)4_10.3.jpg
			4)4_10.4.jpg
			5)4_10.5.jpg
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
状态分配:_4.3
	给最小化状态表中的每一个状态指定一个二进制代码，形成二进制状态表。通常情况下，状态编码的方案不一样，所得到的输出函数和激励函数的表达式也不同，由此而设计出来的电路复杂程度也不同。状态分配的任务是:决定编码长度；寻找一种最佳的或接近最佳的状态分配方案.
	
	·确定编码长度:
		1)4_3_1.1.jpg
		2)4_3_1.2.jpg

	·真正独立方案:
		1)4_3_2.1.jpg
	
	·状态分配的基本原则(四条):
		1)在相同输入条件下具有相同次态的现态，应尽可能分配相邻的二进制代码.
		2)在相邻输入条件，同一现态的次态应尽可能分配相邻的二进制代码.
		3)输出 完全相同 的现态应尽可能分配相邻的二进制代码.
		4)最小化状态表中出现次数最多的状态或初态应分配逻辑0.
		
		一般情况下，第一条原则较为重要，需优先考虑，其次要考虑由前三条原则得到的应分配相邻代码的次态对出现的次数，次数多的状态对应优先分配相邻的二进制代码.
	
	·例子
		1)4_3_3.1.jpg
		2)4_3_3.2.jpg
		3)4_3_3.3.jpg
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
选定触发器，求出输出函数和激励函数表达式:_4.4

	1.触发器的激励表:
		触发器的激励表反映触发器从某种现态转换到某种次态，对触发器输入(激励)的要求。在这种表中，现态和次态作为自变量，输入(激励)作为因变量。触发器的激励表可由触发器的状态表直接推出.

		·R-S与D触发器激励表:4_4_1_R-S_D.jpg
		·J-K与T触发器激励表:4_4_1_J-K_T.jpg

	2.确定激励函数(两种方法):
		·根据次态方程来确定
		·通过激励表来确定(常用)
	
	·D触发器实现
		1)4_4_2.1.jpg
		2)4_4_2.2.jpg
		3)4_4_2.3.jpg
		4)4_4_2.4.jpg

	·J_K触发器实现
		1)4_4_3.1.jpg
		2)4_4_3.2.jpg
		3)4_4_3.3.jpg
		4)4_4_3.4.jpg
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
画出逻辑电路图:_5.5
	先画出触发器并给触发器编号，再根据激励函数和输出函数画出组合逻辑部分的电路，然后画出同步时钟信号线.
	·例子:4_5_1.1.jpg
------------------------------------------------------------------------------------------
			五.同步时序逻辑电路设计举例(实际中会出现"挂起"现象)_5
例子:
	·111序列检测器:5_1.0.jpg
		
		1)形成原始状态图与原始状态表
			1>图:5_1.1.jpg
			2>表:5_1.2.jpg
		2)状态化简
			1>5_2.1.jpg
		3)状态分配
			1>5_3.1.jpg
			2>5_3.2.jpg
		4)确定激励函数和输出函数
			1>5_4.1.jpg
			2>5_4.2.jpg
		5)画出电路图
			1>5_5.1.jpg
		6)电路分析
			1>5_6.1.jpg
	·挂起现象()
```

